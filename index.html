<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Paprika</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Paprika">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Paprika">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Paprika">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="Paprika" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="null" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Lingxi Chen</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/archives">All</a></li>
				        
							<li><a href="/tags/Python">Python</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="/#" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="/#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="/#" title="rss">rss</a>
					        
								<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">奥巴马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">卡卡的美丽传说</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">本泽马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">吉格斯的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">习大大大不同</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">托蒂的博客</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Lingxi Chen</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="null" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Lingxi Chen</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/archives">All</a></li>
		        
					<li><a href="/tags/Python">Python</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="/#" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="/#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="/#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-note-web" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/07/note-web/" class="article-date">
  	<time datetime="2016-03-07T10:07:02.000Z" itemprop="datePublished">2016-03-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/07/note-web/">concept-web</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###HTTP vs TCP</p>
<p>(选择HTTP协议还是基于TCP的自定协议)<br>[<a href="http://segmentfault.com/q/1010000002742070" target="_blank" rel="external">http://segmentfault.com/q/1010000002742070</a>]</p>
<p>###(socket阻塞与非阻塞，同步与异步、I/O模型)[<a href="http://blog.csdn.net/hguisu/article/details/7453390" target="_blank" rel="external">http://blog.csdn.net/hguisu/article/details/7453390</a>]</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-MySQL-Syntax" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/02/03/MySQL-Syntax/" class="article-date">
  	<time datetime="2016-02-03T10:20:56.000Z" itemprop="datePublished">2016-02-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/03/MySQL-Syntax/">MySQL Syntax</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><code>Where In</code>    </p>
<pre><code>Select * From table Where id in (Select id From user);
Select * From table WHere id in (&apos;1&apos;,&apos;2&apos;,&apos;3&apos;,&apos;4&apos;);
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-python-syntax" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/26/python-syntax/" class="article-date">
  	<time datetime="2016-01-26T12:34:59.000Z" itemprop="datePublished">2016-01-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/26/python-syntax/">python-syntax</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="u7406_u89E3_Python__u4E2D_u7684_args__u548C_*kwargs"><a href="#u7406_u89E3_Python__u4E2D_u7684_args__u548C_*kwargs" class="headerlink" title="理解 Python 中的 args 和 *kwargs"></a><a href="http://kodango.com/variable-arguments-in-python" target="_blank" rel="external">理解 Python 中的 <em>args 和 *</em>kwargs</a></h3><p><a href="http://www.wklken.me/posts/2013/08/18/python-extra-functools.html#functoolwraps" target="_blank" rel="external">function tools</a></p>
<h3 id="module_and_package"><a href="#module_and_package" class="headerlink" title="module and package"></a><a href="http://blog.csdn.net/xiliuhu/article/details/4459101" target="_blank" rel="external">module and package</a></h3><ul>
<li><p>Deal with module</p>
<ol>
<li><p>add the path when running the script</p>
<pre><code>import sys
sys.path.append(subdirectory)
import module_from_subdicrectory
</code></pre></li>
<li><p>setting path in <code>PYTHONPATH</code>, so adding the path when shell start</p>
</li>
</ol>
</li>
</ul>
<ul>
<li><p>Deal with package    </p>
<p>  create <code>__init__.py</code> under all directories, to convert into a python package.</p>
<pre><code>from subdirectory import model_from_subdicrectory
</code></pre><p>  or</p>
<pre><code>from subdicrectory.module
</code></pre></li>
</ul>
<h4 id="Setting_PYTHONPATH_environment_variable"><a href="#Setting_PYTHONPATH_environment_variable" class="headerlink" title="Setting PYTHONPATH environment variable"></a><a href="https://scipher.wordpress.com/2010/05/10/setting-your-pythonpath-environment-variable-linuxunixosx/" target="_blank" rel="external">Setting <code>PYTHONPATH</code> environment variable</a></h4><p>In Linux/Unix, this script is usually located at ‘~/.bashrc’ or ‘~/.bash_profile’, use <code>source</code> to detect right the location.</p>
<pre><code>source ~/.bashrc
</code></pre><p>Then, open the file in the editor, add</p>
<pre><code>PYTHONPATH=&quot;${PYTHONPATH}:/path/to/some/cool/python/package/:/path/to/another/cool/python/package/&quot;
export PYTHONPATH
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Mac-OSX-Logs" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/14/Mac-OSX-Logs/" class="article-date">
  	<time datetime="2015-12-14T11:58:44.000Z" itemprop="datePublished">2015-12-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/14/Mac-OSX-Logs/">MAC OSX Logs</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>MAC host file is located on <code>/etc/hosts</code>.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-CentOS-Logs" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/14/CentOS-Logs/" class="article-date">
  	<time datetime="2015-12-14T04:50:59.000Z" itemprop="datePublished">2015-12-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/14/CentOS-Logs/">CentOS Logs</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>All developing logs is based on <code>CentOS6.7</code>. </p>
<p>PS: How to checking Linux version? Try <code>$ lsb_release -a</code>.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;$ lsb_release -a&#10;LSB Version:&#9;:base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch&#10;Distributor ID:&#9;CentOS&#10;Description:&#9;CentOS release 6.7 (Final)&#10;Release:&#9;6.7&#10;Codename:&#9;Final</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="u5728CentOS6-7_u4E0A_u5B89_u88C5MySQL"><a href="#u5728CentOS6-7_u4E0A_u5B89_u88C5MySQL" class="headerlink" title="在CentOS6.7上安装MySQL"></a>在CentOS6.7上安装MySQL</h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum <span class="keyword">install</span> MySQL-python</span><br></pre></td></tr></table></figure>
<h2 id="u5728CentOS6-7_u4E0A_u5B89_u88C5NetworkX"><a href="#u5728CentOS6-7_u4E0A_u5B89_u88C5NetworkX" class="headerlink" title="在CentOS6.7上安装NetworkX"></a>在CentOS6.7上安装NetworkX</h2><p>由于<code>CentOS6.7</code>系统内置的Python版本为<code>Python2.6.6</code>,<code>NetworkX</code>支持2.6或者3.2以上的<code>Python</code>版本。所以我们需要安装<code>Python2.7.10</code>，安装参见link</p>
<p>安装<code>Python2.7</code>完成后,执行<code>sudo pip2.7 install networkx</code>即可。</p>
<p>错误：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pip2.7 <span class="operator"><span class="keyword">install</span> networkx</span><br><span class="line">sudo: pip2<span class="number">.7</span>: command <span class="keyword">not</span> <span class="keyword">found</span></span></span><br></pre></td></tr></table></figure></p>
<p>执行sudo visudo,找到secure_path,在后面添加<code>pip2.7</code>所在的路径目录：<code>/user/local/python27/bin</code> （<code>vim</code>的保存键为<code>:wq</code>）</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">secure_path = <span class="regexp">/sbin:/bin</span><span class="symbol">:/usr/sbin</span><span class="symbol">:/usr/bin</span><span class="symbol">:/usr/local/bin</span></span><br></pre></td></tr></table></figure>
<h2 id="u5728CentOS6-7_u4E0A_u5B89_u88C5Python2-7-10"><a href="#u5728CentOS6-7_u4E0A_u5B89_u88C5Python2-7-10" class="headerlink" title="在CentOS6.7上安装Python2.7.10"></a>在CentOS6.7上安装Python2.7.10</h2><p>(install python2.7 and python3 in CentOS)[<a href="http://toomuchdata.com/2014/02/16/how-to-install-python-on-centos/" target="_blank" rel="external">http://toomuchdata.com/2014/02/16/how-to-install-python-on-centos/</a>]</p>
<p><code>CentOS6.7</code>系统内置的Python版本为<code>Python2.6.6</code>,因为CentOS系统里面的其他工具如<code>yum</code>需要原装版本。我们需要安装<code>Python2.7.10</code>在独立的路径。</p>
<p>更新CentOS以及安装development tools</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">yum</span> -y update  </span><br><span class="line">yum groupinstall -y <span class="string">'development tools'</span></span><br></pre></td></tr></table></figure>
<p>Also you need the packages below to enable <code>SSL</code>, <code>bz2</code>, <code>zlib</code> for Python and some utils:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install -y zlib-devel bzip2-devel openssl-devel xz-libs wget</span><br><span class="line">``` </span><br><span class="line">Installing Python <span class="number">2.7</span><span class="number">.8</span> <span class="keyword">from</span> source</span><br><span class="line">Download Python <span class="keyword">and</span> extract <span class="keyword">it</span></span><br></pre></td></tr></table></figure>
<p>wget <a href="http://www.python.org/ftp/python/2.7.8/Python-2.7.8.tar.xz" target="_blank" rel="external">http://www.python.org/ftp/python/2.7.8/Python-2.7.8.tar.xz</a><br>xz -d Python-2.7.8.tar.xz<br>tar -xvf Python-2.7.8.tar<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter <span class="operator">the</span> <span class="built_in">directory</span>:</span><br></pre></td></tr></table></figure></p>
<p>cd Python-2.7.8<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Run</span> <span class="bash">the configure:</span></span><br></pre></td></tr></table></figure></p>
<p>./configure –prefix=/usr/local<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Compile <span class="keyword">and</span> <span class="keyword">install</span>.</span><br></pre></td></tr></table></figure></p>
<p>make<br>make altinstall<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Checking Python <span class="property">version</span>:</span><br></pre></td></tr></table></figure></p>
<p>python27 -V<br>Python 2.7.10<br><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">If you need set PATH variable<span class="instruction"> check </span>the line below:</span><br></pre></td></tr></table></figure></p>
<p>export PATH=”/usr/local/bin:$PATH”<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">Install</span> setuptools</span><br></pre></td></tr></table></figure></p>
<p>wget –no-check-certificate <a href="https://pypi.python.org/packages/source/s/setuptools/setuptools-1.4.2.tar.gz" target="_blank" rel="external">https://pypi.python.org/packages/source/s/setuptools/setuptools-1.4.2.tar.gz</a><br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Extract <span class="operator">the</span> <span class="built_in">files</span>:</span><br></pre></td></tr></table></figure></p>
<p>tar -xvf setuptools-1.4.2.tar.gz<br>cd setuptools-1.4.2<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Install setuptools <span class="keyword">using</span> the Python <span class="number">2.7</span><span class="number">.10</span>:</span><br></pre></td></tr></table></figure></p>
<p>python27 setup.py install<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">Install</span> Pip</span><br></pre></td></tr></table></figure></p>
<p>curl <a href="https://raw.githubusercontent.com/pypa/pip/master/contrib/get-pip.py" target="_blank" rel="external">https://raw.githubusercontent.com/pypa/pip/master/contrib/get-pip.py</a> | sudo python2.7 -<br>```</p>
<h2 id="u5176_u4ED6_u65B9_u6CD5"><a href="#u5176_u4ED6_u65B9_u6CD5" class="headerlink" title="其他方法"></a>其他方法</h2><p>Redhat now has “Software Collections” which take care of this sort of thing, so you can do:</p>
<p>yum install centos-release-SCL<br>yum install python27</p>
<p>Then if you want to use if in your shell you would run something like:</p>
<p>scl enable python27 bash</p>
<p>Which sets up the correct environment variables (including PATH and LD_LIBRARY_PATH etc) and dumps you into a new shell - pretty sure it would’t be too hard to make that the default…..</p>
<p>Just thought you’d be interested…</p>
<p>N.B. the centos-release-SCL package comes from “extras” I think…</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-develope-CentOS" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/14/develope-CentOS/" class="article-date">
  	<time datetime="2015-12-14T04:50:59.000Z" itemprop="datePublished">2015-12-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/14/develope-CentOS/">CentOS Logs</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>All developing logs is based on <code>CentOS6.7</code>. </p>
<p>PS: How to checking Linux version? Try <code>$ lsb_release -a</code>.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;$ lsb_release -a&#10;LSB Version:&#9;:base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch&#10;Distributor ID:&#9;CentOS&#10;Description:&#9;CentOS release 6.7 (Final)&#10;Release:&#9;6.7&#10;Codename:&#9;Final</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="u5728CentOS6-7_u4E0A_u5B89_u88C5MySQL"><a href="#u5728CentOS6-7_u4E0A_u5B89_u88C5MySQL" class="headerlink" title="在CentOS6.7上安装MySQL"></a>在CentOS6.7上安装MySQL</h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum <span class="keyword">install</span> MySQL-python</span><br></pre></td></tr></table></figure>
<h2 id="u5728CentOS6-7_u4E0A_u5B89_u88C5NetworkX"><a href="#u5728CentOS6-7_u4E0A_u5B89_u88C5NetworkX" class="headerlink" title="在CentOS6.7上安装NetworkX"></a>在CentOS6.7上安装NetworkX</h2><p>由于<code>CentOS6.7</code>系统内置的Python版本为<code>Python2.6.6</code>,<code>NetworkX</code>支持2.6或者3.2以上的<code>Python</code>版本。所以我们需要安装<code>Python2.7.10</code>，安装参见link</p>
<p>安装<code>Python2.7</code>完成后,执行<code>sudo pip2.7 install networkx</code>即可。</p>
<p>错误：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pip2.7 <span class="operator"><span class="keyword">install</span> networkx</span><br><span class="line">sudo: pip2<span class="number">.7</span>: command <span class="keyword">not</span> <span class="keyword">found</span></span></span><br></pre></td></tr></table></figure></p>
<p>执行sudo visudo,找到secure_path,在后面添加<code>pip2.7</code>所在的路径目录：<code>/user/local/python27/bin</code> （<code>vim</code>的保存键为<code>:wq</code>）</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">secure_path = <span class="regexp">/sbin:/bin</span><span class="symbol">:/usr/sbin</span><span class="symbol">:/usr/bin</span><span class="symbol">:/usr/local/bin</span></span><br></pre></td></tr></table></figure>
<h2 id="u5728CentOS6-7_u4E0A_u5B89_u88C5Python2-7-10"><a href="#u5728CentOS6-7_u4E0A_u5B89_u88C5Python2-7-10" class="headerlink" title="在CentOS6.7上安装Python2.7.10"></a>在CentOS6.7上安装Python2.7.10</h2><p>(install python2.7 and python3 in CentOS)[<a href="http://toomuchdata.com/2014/02/16/how-to-install-python-on-centos/" target="_blank" rel="external">http://toomuchdata.com/2014/02/16/how-to-install-python-on-centos/</a>]</p>
<p><code>CentOS6.7</code>系统内置的Python版本为<code>Python2.6.6</code>,因为CentOS系统里面的其他工具如<code>yum</code>需要原装版本。我们需要安装<code>Python2.7.10</code>在独立的路径。</p>
<p>更新CentOS以及安装development tools</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">yum</span> -y update  </span><br><span class="line">yum groupinstall -y <span class="string">'development tools'</span></span><br></pre></td></tr></table></figure>
<p>Also you need the packages below to enable <code>SSL</code>, <code>bz2</code>, <code>zlib</code> for Python and some utils:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install -y zlib-devel bzip2-devel openssl-devel xz-libs wget</span><br><span class="line">``` </span><br><span class="line">Installing Python <span class="number">2.7</span><span class="number">.8</span> <span class="keyword">from</span> source</span><br><span class="line">Download Python <span class="keyword">and</span> extract <span class="keyword">it</span></span><br></pre></td></tr></table></figure>
<p>wget <a href="http://www.python.org/ftp/python/2.7.8/Python-2.7.8.tar.xz" target="_blank" rel="external">http://www.python.org/ftp/python/2.7.8/Python-2.7.8.tar.xz</a><br>xz -d Python-2.7.8.tar.xz<br>tar -xvf Python-2.7.8.tar<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter <span class="operator">the</span> <span class="built_in">directory</span>:</span><br></pre></td></tr></table></figure></p>
<p>cd Python-2.7.8<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Run</span> <span class="bash">the configure:</span></span><br></pre></td></tr></table></figure></p>
<p>./configure –prefix=/usr/local<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Compile <span class="keyword">and</span> <span class="keyword">install</span>.</span><br></pre></td></tr></table></figure></p>
<p>make<br>make altinstall<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Checking Python <span class="property">version</span>:</span><br></pre></td></tr></table></figure></p>
<p>python27 -V<br>Python 2.7.10<br><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">If you need set PATH variable<span class="instruction"> check </span>the line below:</span><br></pre></td></tr></table></figure></p>
<p>export PATH=”/usr/local/bin:$PATH”<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">Install</span> setuptools</span><br></pre></td></tr></table></figure></p>
<p>wget –no-check-certificate <a href="https://pypi.python.org/packages/source/s/setuptools/setuptools-1.4.2.tar.gz" target="_blank" rel="external">https://pypi.python.org/packages/source/s/setuptools/setuptools-1.4.2.tar.gz</a><br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Extract <span class="operator">the</span> <span class="built_in">files</span>:</span><br></pre></td></tr></table></figure></p>
<p>tar -xvf setuptools-1.4.2.tar.gz<br>cd setuptools-1.4.2<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Install setuptools <span class="keyword">using</span> the Python <span class="number">2.7</span><span class="number">.10</span>:</span><br></pre></td></tr></table></figure></p>
<p>python27 setup.py install<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">Install</span> Pip</span><br></pre></td></tr></table></figure></p>
<p>curl <a href="https://raw.githubusercontent.com/pypa/pip/master/contrib/get-pip.py" target="_blank" rel="external">https://raw.githubusercontent.com/pypa/pip/master/contrib/get-pip.py</a> | sudo python2.7 -<br>```</p>
<h2 id="u5176_u4ED6_u65B9_u6CD5"><a href="#u5176_u4ED6_u65B9_u6CD5" class="headerlink" title="其他方法"></a>其他方法</h2><p>Redhat now has “Software Collections” which take care of this sort of thing, so you can do:</p>
<p>yum install centos-release-SCL<br>yum install python27</p>
<p>Then if you want to use if in your shell you would run something like:</p>
<p>scl enable python27 bash</p>
<p>Which sets up the correct environment variables (including PATH and LD_LIBRARY_PATH etc) and dumps you into a new shell - pretty sure it would’t be too hard to make that the default…..</p>
<p>Just thought you’d be interested…</p>
<p>N.B. the centos-release-SCL package comes from “extras” I think…</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-concept-web-economics" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/01/12/concept-web-economics/" class="article-date">
  	<time datetime="2015-01-11T17:43:56.000Z" itemprop="datePublished">2015-01-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/12/concept-web-economics/">Web Economics</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Game Theory:</p>
<ul>
<li>human computation/crowd sourcing</li>
<li>repeated games, bittorent file sharing</li>
<li><p>auction theory, online advertising, ebay</p>
</li>
<li><p>ISPs Game</p>
</li>
</ul>
<h3 id="Game_Theory"><a href="#Game_Theory" class="headerlink" title="Game Theory"></a>Game Theory</h3><p>Game theory model situations which multiple participants interact or affect each other’s outcomes. The earler development including minimax mixed strategy solution for a two person version of game.</p>
<p>####Prisoner’s Dilemma</p>
<p>Two suspects are arrested for robbery, they are interrogated separately. The police tell them if one of them confesses, he will be released immediately, the other one gets 10 years penalty; if neither confesses, both get 1 year sentence; if both confess, they all get 4 years in prison. The payoff table can be derived from this example:</p>
<table>
<thead>
<tr>
<th></th>
<th>Don’t confess</th>
<th>Confess</th>
</tr>
</thead>
<tbody>
<tr>
<td>Don’t confess</td>
<td>-1,-1</td>
<td>-10,0</td>
</tr>
<tr>
<td>Confess</td>
<td>0,-10</td>
<td>-4,-4</td>
</tr>
</tbody>
</table>
<p>We can derived from the table that confessing is a strictly dominant strategy. Even though not confessing is better for both of them, but under rational play this is not achieved.</p>
<p>This kind of dilemma arises frequently like performance-enhancing drugs for athletes. The payoffs must be aligned right.</p>
<p>####Formal Representations</p>
<p>#####Best Response</p>
<p>Assume player 1 choose strategy <em>S</em>, player 2 chooses strategy <em>T</em>, payoff to player $i$ given S,T is $P_i(S,T)$, define:</p>
<p><em>S</em> is a best response to <em>T</em> if $P_1(S,T) \leq P_1(S’,T)$ for all other strategies S’ of player 1. S is strict best response when not equal.</p>
<p>#####Dominant strategy</p>
<p>A dominant strategy is a best response to every strategy of the other player.</p>
<p>#####Game<br>A game consits of:</p>
<ul>
<li>A set of players</li>
<li>Each player has sets of options how to behave called strategies</li>
<li>For each choice of strategies, each player receives a payoff from the game</li>
</ul>
<p>What about games without dominant strategies?</p>
<p>####Marketing Game</p>
<table>
<thead>
<tr>
<th></th>
<th>Low-Priced</th>
<th>Upscale</th>
</tr>
</thead>
<tbody>
<tr>
<td>Low-Priced</td>
<td>.48,.12</td>
<td>.60,.40</td>
</tr>
<tr>
<td>Upscale</td>
<td>.40,.60</td>
<td>.32,.08</td>
</tr>
</tbody>
</table>
<p>In this situation, firm 1 (column player) has a dominant strategy “Low-priced”, whereas firm 2 does not. Firm 2 now can assume firm 1 will play this dominant strategy. Therefore, our prediction for this game is: .60,.40.</p>
<p>What if neither player has a dominant strategy? Expect players to use strategies that are best responses to one another.</p>
<p>####Nash Equilibrium</p>
<p>(S,T) is Nash Equilibrium if S is a best response to T, and T is a best response to S. In other words, at Nash Equilibrium, no player wants to unilaterally (done only by one player) deviate to an alternative strategy.</p>
<p>We can have multiple Nash equilibria (A,A) and (B,B)</p>
<table>
<thead>
<tr>
<th></th>
<th>A</th>
<th>B</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>1,1</td>
<td>0,0</td>
</tr>
<tr>
<td>B</td>
<td>0,0</td>
<td>1,1</td>
</tr>
</tbody>
</table>
<p>####Mixed Strategies<br>Instead of choosing strategies directly, define a probability you will choose a strategy. Player 1 commits to play H with some probability p, similarly, player 2 plays H with probability q. This is called a mixed strategy, as opposed to a pure strategy.</p>
<p>###Case Study: ISP Competition<br>How does the outcome of competition among two Internet Service Providers (ISPs) in a competitive market?</p>
<p>Assume we have n number of ISPs offer their service (Bandwidth) to the customers. The cost to ISP i of producing $q_i$ units of the Bandwidth is $C_i(q_i)$, where $C_i$ is an increasing function. The bandwidth is sold at a single price $P(Q)$, where Q is the total output and P is a decreasing function unless it is already zero. If the output of each ISP i is $q_i$, then the price is P(q_1+…+q_n), so revenue of i is $q_iP(q_1+…+q_n)$. Thus, ISP i’s profit, equal to its revenue minus its cost, is:<br>$F_i(q_i,…,q_n) = q_i P(q_1+…+q_n)-C_i(q_i)$</p>
<p>Terminologies for ISP games:</p>
<ul>
<li>Players: the ISPs</li>
<li>Actions: the set of its possible outputs $q1$,…,$q_n$</li>
<li>Utilities: ISPs preferences are represented by their profits $F_1,…,F_n$</li>
</ul>
<p>###Repeated Games</p>
<p>In a repeated game, a simultaneous-move normal-form game is played over and again by the same players. For example, the players may play Prisoner’s Dilemma game for 10 time periods. The game that is repeated in each period is referred to as the stage game. The equilibria of a repeated game can differ from those of the associated stage game. There are many new strategies, players can condition their play on the history of play in previous rounds. Like, a player may be deterred from exploiting her short-term advantage by the “threat” of “punishment” that reduces her long-term payoff.</p>
<p>Suppose that two people are involved repeatedly in an interaction, the short-term incentives are captured by the Prisoner’s Dilemma, which payoffs as:</p>
<table>
<thead>
<tr>
<th></th>
<th>C</th>
<th>D</th>
</tr>
</thead>
<tbody>
<tr>
<td>C</td>
<td>2,2</td>
<td>0,3</td>
</tr>
<tr>
<td>D</td>
<td>3,0</td>
<td>1,1</td>
</tr>
</tbody>
</table>
<p>where C as cooperation (don’t confess), and D as defection (confess).</p>
<p>For this model, there are two nash equilibras: grim trigger strategy and the strategy pair that each player choose D after every history. For grim trigger strategy, the outcome in which (C,C) occurs in every period is supported as a Nash equilibrium if the players are sufficiently patient. But, how patient do they have to be?</p>
<p>What other outcomes are supported?</p>
<p>####Grim Trigger Strategy<br>Grim triger Strategy for this repeated game is that choose C so long as the other player chooses C; if in any period the other player choose D, then choose D in every subsequent period as punishment.</p>
<p>If player 1 applies grim trigger strategy, player 2 is better off choosing C in every period, as long as the value she attaches to future payoffs is not too small compared with the current payoffs.</p>
<p>####Discounting</p>
<p>In reality, for a repeated game, we cannot just define the utility as the sum over all periods as this would be unbounded in gerenal. The payoffs for future period should be discounted with a discount factor $\delta \in (0,1)$ due to the game mishgt stop in any round or future inflation. Each player assigns a higher weight to utility in the current stage than future stage. For instance, for player i:</p>
<ul>
<li>the utility obtained in stage 0 is $u^0_i$</li>
<li>the utility obtained in stage 1 is $\delta u^1_i$</li>
<li>the utility obtained in stage 2 is $\delta^2 u^2_i$</li>
</ul>
<p>For an infinitely repeated game, player i’s total utility for history action $h = (a^0, a^1,…)$ is</p>
<p>$u<em>i(h) = \sum \limits</em>{k=0}^2 \delta^k u_i(a^k)$</p>
<p>where $a^k$ is a set of actions for all players at stage k.</p>
<p>####Grim Trigger Strategy<br>Suppose player 1 and player 2 both adopt grim trigger strategy, the outcome is (C,C) in every stage and players obtain the stream of payoffs (2,2,…). The utility for both player are:</p>
<p>$u(h) = \sum \limits<em>{k=0}^\infty \delta^k u(a^k) = \sum \limits</em>{k=0}^\infty \delta^k 2 = 2/(1-\delta)$</p>
<p>If player 2 adopts a different strategy, there is at least one period, player 2’s choice triggers the punishment, so in all subsequent periods player 1 chooses D. This yields the stream of payoffs (2,…,3,1,…). Starting D earlier would have a better utility, now assume player 2 choose D in first stage, Now the new utility for player 2 is:</p>
<p>$u_2(h)’ = \sum \delta^k u(a^k) = 3 + \delta + \delta^2 +… = 2 + \frac{1}{1-\delta}=\frac{3-2\delta}{1-\delta}$</p>
<p>Let $u_2(h) \geq u_2(h)’$, we get $\delta \geq \frac{1}{2}$.</p>
<p>So, if $\delta \geq \frac{1}{2}$, grim trigger strategy is a Nash Equilibrium for Infinitely Repeated Prisoner’s Dilemma.</p>
<p>####Limited Punishment Strategy</p>
<p>This strategy punishes deviations for only $k$ periods, then reverting to choose C, no matter how the other player hebaved during her punishment.</p>
<p>Suppose player 1 adopts this strategy, player 2 does not deviate during first k+1 period, the total utility is:</p>
<p>$u_2(h) = 2(1+\delta+\delta^2+…+\delta^k) = \frac{2(1-\delta^{k+1})}{1-\delta}$</p>
<p>If player 2 chooses D in the first period. Then player 1 will choose D in each of the next k periods, in response player 2 should also choose D in these periods. In the $k+1$st period after the deviation player 1 switches back to C. At this moment, player 2 faces precisely the same situation that he faced at the beginning of game. So if his deviation increases her payoff, it increase her payoff during the first k+1 peroids, the total utility is:</p>
<p>$u_2(h)’ = 3 + \delta + \delta^2 + … + \delta^k = 2 + \frac{1-\delta^{k+1}}{1-\delta}$</p>
<p>Thus, player 2 cannot increase her payoff by deviating if and only if $u_2(h) \geq u_2(h)’$ which leads to </p>
<p>$\delta^{k+1}-2\delta+1 \leq 0$.</p>
<ul>
<li>if k = 1, then no value of $\delta \in (0,1)$ satisfies the inequality. This means that one period of punishment is not severe enough to discourage a deviation, however patient the players are.</li>
<li>if k = 2, then the inequality is satisfied for $\delta \geq 0.62$</li>
<li>if k = 3, $\delta \geq 0.55$</li>
<li>as k increases the lower bound on $\delta$ approached to 0.5, the lower bound for the grim strategy.</li>
</ul>
<p>####Tic-for-Tat Strategy</p>
<p>In strategy tic-for-tat, the length of the punishment depends on the behavior of the player being punished. If the other player continues to choose D then tic-for-tat continues to do so; if the other player reverts to C then tic-for-tat reverts to C too.</p>
<p>Suppose player 1 adheres tic-for-tat strategy, and player 2 choose D at the first stage. Then player 1 will switch to D, then player 2 has two options: revert to C, in which case in the next periods she faces the same situation as she did at the start of the game, or continue to choose D, in which case player 1 will continue with D too.</p>
<p>If player 2 alternates between D and C then the stream of payoffs is 3,0,3,0,… with utility $u_2(h)’ = \frac{3}{(1-\delta)(1+\delta)}$.</p>
<p>If player 2 chooses 2 in every period, the stream of payoffs is 3,1,1,1,… with utility $u_2(h)’’ = \frac{3-2\delta}{1-\delta}$</p>
<p>Since the utility of player 2 adopting tic-for-tat is $u_2(h) = 2/(1-\delta)$, we can conclude that tic-for-tat is a best response to tit-for-tat if and only if </p>
<p>$u_2(h) \geq u_2(h)’$ and $u_2(h) \geq u_2(h)’’$ which leads to $\delta \geq 0.5$</p>
<p>The winning deterministic strategy was tic for tat in the Interated Prisoners’ Dilemma (IPD) tournament.</p>
<p>###Human Computation and Crowdsourcing</p>
<p>Crowdsourcing greatly facilitates human computation (but they are not equivalent).</p>
<p>Crowdsourcing requires:</p>
<ul>
<li>Diversity</li>
<li>Independence</li>
<li>Decentralization</li>
<li>Aggregation</li>
</ul>
<p>Inputs: large, diverse sample to increase the likelihood of overall pool quality. The output is some kind of consensus or selection (aggregation)</p>
<p>####ESP Game</p>
<p>Lots of crowdsourcing is completed via gamification, that is, create games that enable human computation to gather required data. One popular example is The ESP Game: A two player online game, partners don’t know each other and can’t communicate. The object of the game: type the same word. The only thing in common is an image.</p>
<p>####Pay-based Marketplaces</p>
<p>####Qaulity</p>
<p>assign quality score to indivivual…</p>
<p>The challenge is that the error rate in confusion matrix is not enough to check if a worker is a spammer or not ()If the dataset is unbalanced). We should use more dataset.</p>
<p>Flase Negative</p>
<p>Challenge 1: spammer are lazy and smart</p>
<p>Challenge 2: user are biased.</p>
<p>Solution: reverse the error biased worker made, and then compute the error rate.</p>
<p>####Cohen’s Kappa</p>
<p>computing prob of agreement</p>
<p>####Integaration with Machine Learning</p>
<p>Using machine learning to train labelers to do the job.</p>
<p>Tradeoffs for machine learnign models:</p>
<ul>
<li>get more data like active learning, select which unlabeled example to label.</li>
<li>improve data quality: repeated lebeling again.</li>
</ul>
<p>####Task Optimisation in crowdsourcing</p>
<p>The rule for thumb results??</p>
<ul>
<li>with high quality labelers (&gt; 80%), multiple workers per case to improve quality</li>
<li>with low quality labelers (&lt; 60%), multiple workers per case to improve quality</li>
</ul>
<p>Selective repeated-labeling: We do not need to label everything same number of times, key observation: we have additional information to guide selection of data for repeated labeling.</p>
<p>higher pay dosen’t mean a better result, but it reallt incentives completion time.</p>
<p>###Machine Learning ans Sentiment Analysis</p>
<p>well-posed problem: the mathematical model for physical phemomenan should have the properities:</p>
<ul>
<li>A solutioin exists</li>
<li>The solution is unique</li>
<li>The solution’s behavior changes continuously with the initial conditions.</li>
</ul>
<p>training -&gt; testing</p>
<p>supervised learning; unsupervised learning; semi-supervised learning</p>
<p>regression; classification</p>
<p>linear regression</p>
<p>cost function: mean square error</p>
<p>gradient descent, notice that the effect of learning rate $\alpha$:</p>
<ul>
<li>if $\alpha$ is too small, gradient descent can be slow.</li>
<li>if $\alpha$ is too large, gradient descent can overshoot the minumum, it might fail to converge, or even diverge.</li>
</ul>
<p>Gradient descent can converge to a local minimum, even with $\alpha$ fixed. As we approach a local minima, gradient descent will automatically take smaller steps, there is no need to decrease $\alpha$ over time.</p>
<p>local minima; global minima.</p>
<p>Batch Vs. Stochastic Gradient Descent</p>
<p>classification with logistic regression</p>
<p>logistic regression use sigmoid function to interpretate the probability.</p>
<p>####cost function for logistic regression</p>
<p>If $y = 1$: $Cost(h<em>\theta (x),y) = -log(h</em>\theta (x))$, cost = 0 if y = 1, $h<em>\theta(x) = 1$, but as $h</em>\theta (x) \rightarrow 0$, $Cost \rightarrow \infy$</p>
<p>If $y = 0$, $Cost(h<em>\theta (x),y) = -log(1 - h</em>\theta (x))$</p>
<p>Simplified Cost Function:<br>$Cost(y_hat,y) = -ylog(y_hat) - (1-y)log(1-y_hat)$</p>
<p>Logistic regression with gradient descent:</p>
<p>$J(\theta) = - \frac{1}{m}[\sum{i=1}{m} Cost(y_hat_i,y_i)]$</p>
<p>turns out the udpate gradient are the same with linear regression.</p>
<p>####multicalss classification -&gt; one-vs-all(one-vs-rest)</p>
<p>one-vs-all for logistic regression multiclassifier: train a logistic regression classifier $h_\theta ^i (x)$ for each class $i$ to predict the probability that $y = i$. On a new input $x$, to make a prediction, pick the class $i$ that maximizes the predicted probability.</p>
<p>####SVM</p>
<p>use support vector to decide the best hyper-plane.</p>
<p>optimazation problem:</p>
<p>$(w^<em>,b^</em>) = argmax<em>{(w,b)min</em>{(X_i \in X)}Y_i(w^T X_i + b)}$</p>
<p>solved by the method of Lagrangian Multipliers</p>
<p>The solution is:</p>
<p>$f(x) = sgn(\sum_{i \in SV \alpha_i y_i x_i^T x + b^*})$</p>
<p>support vectors are the only important data points in the training set, summation over number of support vectors</p>
<p>####Kernal Trick</p>
<p>####Clustering<br>Clustering algorithms are used to group similar objects, in IR typically documents and terms. Many different algorithms and approaches like graph theoretic and nearest means. Cluetering typically based on pair-wise comparisions of objects using a similarity measure like comparing docuemnts, comparing cluster means and documents.</p>
<p>What is clustering?</p>
<p>A grouping of data objects such that objects within a group are similar/related to one another and different from/unrelated to the objects in other groups. Make sure that intra-cluster distances are minimzed and inter-cluster distances are maximized.</p>
<p>Outliers are objects that do not belong to any cluster or form clusters of very small cardinality. In some applications we are interested in discovering outliers, not clusters like outliers analysis.</p>
<p>#####Distance Function</p>
<p>#####Clustering Algorithm</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-note-web-economics" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/01/12/note-web-economics/" class="article-date">
  	<time datetime="2015-01-11T17:43:56.000Z" itemprop="datePublished">2015-01-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/12/note-web-economics/">Web Economics</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Game Theory:</p>
<ul>
<li>human computation/crowd sourcing</li>
<li>repeated games, bittorent file sharing</li>
<li><p>auction theory, online advertising, ebay</p>
</li>
<li><p>ISPs Game</p>
</li>
</ul>
<h3 id="Game_Theory"><a href="#Game_Theory" class="headerlink" title="Game Theory"></a>Game Theory</h3><p>Game theory model situations which multiple participants interact or affect each other’s outcomes. The earler development including minimax mixed strategy solution for a two person version of game.</p>
<p>####Prisoner’s Dilemma</p>
<p>Two suspects are arrested for robbery, they are interrogated separately. The police tell them if one of them confesses, he will be released immediately, the other one gets 10 years penalty; if neither confesses, both get 1 year sentence; if both confess, they all get 4 years in prison. The payoff table can be derived from this example:</p>
<table>
<thead>
<tr>
<th></th>
<th>Don’t confess</th>
<th>Confess</th>
</tr>
</thead>
<tbody>
<tr>
<td>Don’t confess</td>
<td>-1,-1</td>
<td>-10,0</td>
</tr>
<tr>
<td>Confess</td>
<td>0,-10</td>
<td>-4,-4</td>
</tr>
</tbody>
</table>
<p>We can derived from the table that confessing is a strictly dominant strategy. Even though not confessing is better for both of them, but under rational play this is not achieved.</p>
<p>This kind of dilemma arises frequently like performance-enhancing drugs for athletes. The payoffs must be aligned right.</p>
<p>####Formal Representations</p>
<p>#####Best Response</p>
<p>Assume player 1 choose strategy <em>S</em>, player 2 chooses strategy <em>T</em>, payoff to player $i$ given S,T is $P_i(S,T)$, define:</p>
<p><em>S</em> is a best response to <em>T</em> if $P_1(S,T) \leq P_1(S’,T)$ for all other strategies S’ of player 1. S is strict best response when not equal.</p>
<p>#####Dominant strategy</p>
<p>A dominant strategy is a best response to every strategy of the other player.</p>
<p>#####Game<br>A game consits of:</p>
<ul>
<li>A set of players</li>
<li>Each player has sets of options how to behave called strategies</li>
<li>For each choice of strategies, each player receives a payoff from the game</li>
</ul>
<p>What about games without dominant strategies?</p>
<p>####Marketing Game</p>
<table>
<thead>
<tr>
<th></th>
<th>Low-Priced</th>
<th>Upscale</th>
</tr>
</thead>
<tbody>
<tr>
<td>Low-Priced</td>
<td>.48,.12</td>
<td>.60,.40</td>
</tr>
<tr>
<td>Upscale</td>
<td>.40,.60</td>
<td>.32,.08</td>
</tr>
</tbody>
</table>
<p>In this situation, firm 1 (column player) has a dominant strategy “Low-priced”, whereas firm 2 does not. Firm 2 now can assume firm 1 will play this dominant strategy. Therefore, our prediction for this game is: .60,.40.</p>
<p>What if neither player has a dominant strategy? Expect players to use strategies that are best responses to one another.</p>
<p>####Nash Equilibrium</p>
<p>(S,T) is Nash Equilibrium if S is a best response to T, and T is a best response to S. In other words, at Nash Equilibrium, no player wants to unilaterally (done only by one player) deviate to an alternative strategy.</p>
<p>We can have multiple Nash equilibria (A,A) and (B,B)</p>
<table>
<thead>
<tr>
<th></th>
<th>A</th>
<th>B</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>1,1</td>
<td>0,0</td>
</tr>
<tr>
<td>B</td>
<td>0,0</td>
<td>1,1</td>
</tr>
</tbody>
</table>
<p>####Mixed Strategies<br>Instead of choosing strategies directly, define a probability you will choose a strategy. Player 1 commits to play H with some probability p, similarly, player 2 plays H with probability q. This is called a mixed strategy, as opposed to a pure strategy.</p>
<p>###Case Study: ISP Competition<br>How does the outcome of competition among two Internet Service Providers (ISPs) in a competitive market?</p>
<p>Assume we have n number of ISPs offer their service (Bandwidth) to the customers. The cost to ISP i of producing $q_i$ units of the Bandwidth is $C_i(q_i)$, where $C_i$ is an increasing function. The bandwidth is sold at a single price $P(Q)$, where Q is the total output and P is a decreasing function unless it is already zero. If the output of each ISP i is $q_i$, then the price is P(q_1+…+q_n), so revenue of i is $q_iP(q_1+…+q_n)$. Thus, ISP i’s profit, equal to its revenue minus its cost, is:<br>$F_i(q_i,…,q_n) = q_i P(q_1+…+q_n)-C_i(q_i)$</p>
<p>Terminologies for ISP games:</p>
<ul>
<li>Players: the ISPs</li>
<li>Actions: the set of its possible outputs $q1$,…,$q_n$</li>
<li>Utilities: ISPs preferences are represented by their profits $F_1,…,F_n$</li>
</ul>
<p>###Repeated Games</p>
<p>In a repeated game, a simultaneous-move normal-form game is played over and again by the same players. For example, the players may play Prisoner’s Dilemma game for 10 time periods. The game that is repeated in each period is referred to as the stage game. The equilibria of a repeated game can differ from those of the associated stage game. There are many new strategies, players can condition their play on the history of play in previous rounds. Like, a player may be deterred from exploiting her short-term advantage by the “threat” of “punishment” that reduces her long-term payoff.</p>
<p>Suppose that two people are involved repeatedly in an interaction, the short-term incentives are captured by the Prisoner’s Dilemma, which payoffs as:</p>
<table>
<thead>
<tr>
<th></th>
<th>C</th>
<th>D</th>
</tr>
</thead>
<tbody>
<tr>
<td>C</td>
<td>2,2</td>
<td>0,3</td>
</tr>
<tr>
<td>D</td>
<td>3,0</td>
<td>1,1</td>
</tr>
</tbody>
</table>
<p>where C as cooperation (don’t confess), and D as defection (confess).</p>
<p>For this model, there are two nash equilibras: grim trigger strategy and the strategy pair that each player choose D after every history. For grim trigger strategy, the outcome in which (C,C) occurs in every period is supported as a Nash equilibrium if the players are sufficiently patient. But, how patient do they have to be?</p>
<p>What other outcomes are supported?</p>
<p>####Grim Trigger Strategy<br>Grim triger Strategy for this repeated game is that choose C so long as the other player chooses C; if in any period the other player choose D, then choose D in every subsequent period as punishment.</p>
<p>If player 1 applies grim trigger strategy, player 2 is better off choosing C in every period, as long as the value she attaches to future payoffs is not too small compared with the current payoffs.</p>
<p>####Discounting</p>
<p>In reality, for a repeated game, we cannot just define the utility as the sum over all periods as this would be unbounded in gerenal. The payoffs for future period should be discounted with a discount factor $\delta \in (0,1)$ due to the game mishgt stop in any round or future inflation. Each player assigns a higher weight to utility in the current stage than future stage. For instance, for player i:</p>
<ul>
<li>the utility obtained in stage 0 is $u^0_i$</li>
<li>the utility obtained in stage 1 is $\delta u^1_i$</li>
<li>the utility obtained in stage 2 is $\delta^2 u^2_i$</li>
</ul>
<p>For an infinitely repeated game, player i’s total utility for history action $h = (a^0, a^1,…)$ is</p>
<p>$u<em>i(h) = \sum \limits</em>{k=0}^2 \delta^k u_i(a^k)$</p>
<p>where $a^k$ is a set of actions for all players at stage k.</p>
<p>####Grim Trigger Strategy<br>Suppose player 1 and player 2 both adopt grim trigger strategy, the outcome is (C,C) in every stage and players obtain the stream of payoffs (2,2,…). The utility for both player are:</p>
<p>$u(h) = \sum \limits<em>{k=0}^\infty \delta^k u(a^k) = \sum \limits</em>{k=0}^\infty \delta^k 2 = 2/(1-\delta)$</p>
<p>If player 2 adopts a different strategy, there is at least one period, player 2’s choice triggers the punishment, so in all subsequent periods player 1 chooses D. This yields the stream of payoffs (2,…,3,1,…). Starting D earlier would have a better utility, now assume player 2 choose D in first stage, Now the new utility for player 2 is:</p>
<p>$u_2(h)’ = \sum \delta^k u(a^k) = 3 + \delta + \delta^2 +… = 2 + \frac{1}{1-\delta}=\frac{3-2\delta}{1-\delta}$</p>
<p>Let $u_2(h) \geq u_2(h)’$, we get $\delta \geq \frac{1}{2}$.</p>
<p>So, if $\delta \geq \frac{1}{2}$, grim trigger strategy is a Nash Equilibrium for Infinitely Repeated Prisoner’s Dilemma.</p>
<p>####Limited Punishment Strategy</p>
<p>This strategy punishes deviations for only $k$ periods, then reverting to choose C, no matter how the other player hebaved during her punishment.</p>
<p>Suppose player 1 adopts this strategy, player 2 does not deviate during first k+1 period, the total utility is:</p>
<p>$u_2(h) = 2(1+\delta+\delta^2+…+\delta^k) = \frac{2(1-\delta^{k+1})}{1-\delta}$</p>
<p>If player 2 chooses D in the first period. Then player 1 will choose D in each of the next k periods, in response player 2 should also choose D in these periods. In the $k+1$st period after the deviation player 1 switches back to C. At this moment, player 2 faces precisely the same situation that he faced at the beginning of game. So if his deviation increases her payoff, it increase her payoff during the first k+1 peroids, the total utility is:</p>
<p>$u_2(h)’ = 3 + \delta + \delta^2 + … + \delta^k = 2 + \frac{1-\delta^{k+1}}{1-\delta}$</p>
<p>Thus, player 2 cannot increase her payoff by deviating if and only if $u_2(h) \geq u_2(h)’$ which leads to </p>
<p>$\delta^{k+1}-2\delta+1 \leq 0$.</p>
<ul>
<li>if k = 1, then no value of $\delta \in (0,1)$ satisfies the inequality. This means that one period of punishment is not severe enough to discourage a deviation, however patient the players are.</li>
<li>if k = 2, then the inequality is satisfied for $\delta \geq 0.62$</li>
<li>if k = 3, $\delta \geq 0.55$</li>
<li>as k increases the lower bound on $\delta$ approached to 0.5, the lower bound for the grim strategy.</li>
</ul>
<p>####Tic-for-Tat Strategy</p>
<p>In strategy tic-for-tat, the length of the punishment depends on the behavior of the player being punished. If the other player continues to choose D then tic-for-tat continues to do so; if the other player reverts to C then tic-for-tat reverts to C too.</p>
<p>Suppose player 1 adheres tic-for-tat strategy, and player 2 choose D at the first stage. Then player 1 will switch to D, then player 2 has two options: revert to C, in which case in the next periods she faces the same situation as she did at the start of the game, or continue to choose D, in which case player 1 will continue with D too.</p>
<p>If player 2 alternates between D and C then the stream of payoffs is 3,0,3,0,… with utility $u_2(h)’ = \frac{3}{(1-\delta)(1+\delta)}$.</p>
<p>If player 2 chooses 2 in every period, the stream of payoffs is 3,1,1,1,… with utility $u_2(h)’’ = \frac{3-2\delta}{1-\delta}$</p>
<p>Since the utility of player 2 adopting tic-for-tat is $u_2(h) = 2/(1-\delta)$, we can conclude that tic-for-tat is a best response to tit-for-tat if and only if </p>
<p>$u_2(h) \geq u_2(h)’$ and $u_2(h) \geq u_2(h)’’$ which leads to $\delta \geq 0.5$</p>
<p>The winning deterministic strategy was tic for tat in the Interated Prisoners’ Dilemma (IPD) tournament.</p>
<p>###Human Computation and Crowdsourcing</p>
<p>Crowdsourcing greatly facilitates human computation (but they are not equivalent).</p>
<p>Crowdsourcing requires:</p>
<ul>
<li>Diversity</li>
<li>Independence</li>
<li>Decentralization</li>
<li>Aggregation</li>
</ul>
<p>Inputs: large, diverse sample to increase the likelihood of overall pool quality. The output is some kind of consensus or selection (aggregation)</p>
<p>####ESP Game</p>
<p>Lots of crowdsourcing is completed via gamification, that is, create games that enable human computation to gather required data. One popular example is The ESP Game: A two player online game, partners don’t know each other and can’t communicate. The object of the game: type the same word. The only thing in common is an image.</p>
<p>####Pay-based Marketplaces</p>
<p>####Qaulity</p>
<p>assign quality score to indivivual…</p>
<p>The challenge is that the error rate in confusion matrix is not enough to check if a worker is a spammer or not ()If the dataset is unbalanced). We should use more dataset.</p>
<p>Flase Negative</p>
<p>Challenge 1: spammer are lazy and smart</p>
<p>Challenge 2: user are biased.</p>
<p>Solution: reverse the error biased worker made, and then compute the error rate.</p>
<p>####Cohen’s Kappa</p>
<p>computing prob of agreement</p>
<p>####Integaration with Machine Learning</p>
<p>Using machine learning to train labelers to do the job.</p>
<p>Tradeoffs for machine learnign models:</p>
<ul>
<li>get more data like active learning, select which unlabeled example to label.</li>
<li>improve data quality: repeated lebeling again.</li>
</ul>
<p>####Task Optimisation in crowdsourcing</p>
<p>The rule for thumb results??</p>
<ul>
<li>with high quality labelers (&gt; 80%), multiple workers per case to improve quality</li>
<li>with low quality labelers (&lt; 60%), multiple workers per case to improve quality</li>
</ul>
<p>Selective repeated-labeling: We do not need to label everything same number of times, key observation: we have additional information to guide selection of data for repeated labeling.</p>
<p>higher pay dosen’t mean a better result, but it reallt incentives completion time.</p>
<p>###Machine Learning ans Sentiment Analysis</p>
<p>well-posed problem: the mathematical model for physical phemomenan should have the properities:</p>
<ul>
<li>A solutioin exists</li>
<li>The solution is unique</li>
<li>The solution’s behavior changes continuously with the initial conditions.</li>
</ul>
<p>training -&gt; testing</p>
<p>supervised learning; unsupervised learning; semi-supervised learning</p>
<p>regression; classification</p>
<p>linear regression</p>
<p>cost function: mean square error</p>
<p>gradient descent, notice that the effect of learning rate $\alpha$:</p>
<ul>
<li>if $\alpha$ is too small, gradient descent can be slow.</li>
<li>if $\alpha$ is too large, gradient descent can overshoot the minumum, it might fail to converge, or even diverge.</li>
</ul>
<p>Gradient descent can converge to a local minimum, even with $\alpha$ fixed. As we approach a local minima, gradient descent will automatically take smaller steps, there is no need to decrease $\alpha$ over time.</p>
<p>local minima; global minima.</p>
<p>Batch Vs. Stochastic Gradient Descent</p>
<p>classification with logistic regression</p>
<p>logistic regression use sigmoid function to interpretate the probability.</p>
<p>####cost function for logistic regression</p>
<p>If $y = 1$: $Cost(h<em>\theta (x),y) = -log(h</em>\theta (x))$, cost = 0 if y = 1, $h<em>\theta(x) = 1$, but as $h</em>\theta (x) \rightarrow 0$, $Cost \rightarrow \infy$</p>
<p>If $y = 0$, $Cost(h<em>\theta (x),y) = -log(1 - h</em>\theta (x))$</p>
<p>Simplified Cost Function:<br>$Cost(y_hat,y) = -ylog(y_hat) - (1-y)log(1-y_hat)$</p>
<p>Logistic regression with gradient descent:</p>
<p>$J(\theta) = - \frac{1}{m}[\sum{i=1}{m} Cost(y_hat_i,y_i)]$</p>
<p>turns out the udpate gradient are the same with linear regression.</p>
<p>####multicalss classification -&gt; one-vs-all(one-vs-rest)</p>
<p>one-vs-all for logistic regression multiclassifier: train a logistic regression classifier $h_\theta ^i (x)$ for each class $i$ to predict the probability that $y = i$. On a new input $x$, to make a prediction, pick the class $i$ that maximizes the predicted probability.</p>
<p>####SVM</p>
<p>use support vector to decide the best hyper-plane.</p>
<p>optimazation problem:</p>
<p>$(w^<em>,b^</em>) = argmax<em>{(w,b)min</em>{(X_i \in X)}Y_i(w^T X_i + b)}$</p>
<p>solved by the method of Lagrangian Multipliers</p>
<p>The solution is:</p>
<p>$f(x) = sgn(\sum_{i \in SV \alpha_i y_i x_i^T x + b^*})$</p>
<p>support vectors are the only important data points in the training set, summation over number of support vectors</p>
<p>####Kernal Trick</p>
<p>####Clustering<br>Clustering algorithms are used to group similar objects, in IR typically documents and terms. Many different algorithms and approaches like graph theoretic and nearest means. Cluetering typically based on pair-wise comparisions of objects using a similarity measure like comparing docuemnts, comparing cluster means and documents.</p>
<p>What is clustering?</p>
<p>A grouping of data objects such that objects within a group are similar/related to one another and different from/unrelated to the objects in other groups. Make sure that intra-cluster distances are minimzed and inter-cluster distances are maximized.</p>
<p>Outliers are objects that do not belong to any cluster or form clusters of very small cardinality. In some applications we are interested in discovering outliers, not clusters like outliers analysis.</p>
<p>#####Distance Function</p>
<p>#####Clustering Algorithm</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-java-review" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/01/12/java-review/" class="article-date">
  	<time datetime="2015-01-11T17:43:02.000Z" itemprop="datePublished">2015-01-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/12/java-review/">Java Review</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-concepts-and-research-methods-in-machine-learning" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/01/06/concepts-and-research-methods-in-machine-learning/" class="article-date">
  	<time datetime="2015-01-05T17:22:48.000Z" itemprop="datePublished">2015-01-06</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/06/concepts-and-research-methods-in-machine-learning/">Concepts and Research Methods in Machine Learning</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###Basic Concepts</p>
<p>Generalisation Error, Training Error, Test Error</p>
<p>Costfunction</p>
<p>Overfitting</p>
<p>Parameter Optimisation -&gt; Cross Validation</p>
<p>local optima, global optima</p>
<p>latent variables</p>
<p>EM</p>
<p>1-of-k coding</p>
<p>No-Free-Lunch, Occam’s Razor</p>
<p>Graphs, Nodes, Edges</p>
<p>gradient descent</p>
<p>Stastical Requirements:</p>
<p>Mean, Standard Deviation, i.i.d.</p>
<p>###Research Methods</p>
<p>####Cross Validation</p>
<p>####Confusion Matrix</p>
<p>####Multiclass Classification</p>
<p>###Supervised Learning Algorithm</p>
<p>####k-Nearest Neighbours</p>
<p>####Linear Regression</p>
<p>####Ridge Regression</p>
<p>###Unsupervised Learning Algorithm</p>
<p>####K-means</p>
<p>####Mix of Gaussians</p>
<p>###Optimization</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Lingxi Chen
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>